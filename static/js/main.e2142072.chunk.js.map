{"version":3,"sources":["components/DarkModeToggle.js","components/UrlBar.js","components/ShareButton.js","components/InfoButton.js","components/DebugButton.js","components/SearchBar.js","components/LogLines.js","components/LogView.js","components/SystemInfo.js","components/BundleView.js","components/NothingLoaded.js","util/remote.js","util/zip.js","util/bundle.js","App.js","hooks/useLocalStorage.js","serviceWorkerRegistration.js","index.js"],"names":["DarkModeToggle","props","useState","darkMode","setDarkMode","title","onClick","onChange","color","useStyles","makeStyles","theme","grow","flexGrow","url","position","borderRadius","shape","backgroundColor","fade","palette","common","white","breakpoints","up","marginRight","spacing","marginLeft","urlIcon","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","width","inputInput","paddingLeft","transitions","create","UrlBar","classes","setUrl","filename","mode","className","mdDown","placeholder","root","input","event","target","value","onKeyDown","key","handleUrlChange","defaultValue","inputProps","readOnly","ShareButton","enqueueSnackbar","useSnackbar","shareModalOpen","setShareModalOpen","shareUrl","window","location","origin","pathname","encodeURIComponent","handleClose","open","onClose","fullWidth","InputProps","onFocus","select","navigator","share","document","clipboard","writeText","InfoButton","infoModalOpen","setInfoModalOpen","href","rel","underline","style","textAlign","src","alt","debugModalOpen","setDebugModalOpen","shared","text","query","transition","result","secondary","fontSize","typography","pxToRem","SearchBar","pos","count","setQuery","inputRef","React","createRef","handlePerform","handlePerformQuery","handleCancel","current","onCancel","SearchStartAdornment","disabled","size","SearchEndAdornment","onPrev","onNext","handleQueryChange","startAdornment","endAdornment","LogLines","lines","lineCount","length","queryLower","toLowerCase","scrollTo","listRef","useEffect","scrollToItem","Line","log","pre","margin","down","linewrap","line","content","toString","warning","main","error","info","getStream","charAt","matchesQuery","includes","language","index","split","itemCount","itemSize","overflow","ref","languages","patterns","guessLanguage","pattern","match","console","LogView","trim","map","trimEnd","setScrollTo","cursor","setCursor","indices","setIndices","background","accordionbar","flexWrap","accordiondetails","flexDirection","icon","secondaryHeading","flexBasis","nextResult","c","serialAndDisabled","throttled","defaultExpanded","expanded","expandIcon","id","heading","millify","q","qLower","ind","reduce","a","i","push","SystemInfo","filter","l","join","p","InfoField","checkField","func","safemode","marlin_bugfix","list","BundleView","bundle","systeminfo","logs","NothingLoaded","dropzoneText","files","onUpload","filesLimit","acceptedFiles","maxFileSize","showPreviewsInDropzone","showAlerts","fetch","response","ok","Error","status","blob","header","headers","get","contentdispositionutils","parse","parameters","substring","lastIndexOf","name","utils","loadRemote","remoteutils","loadZip","JSZip","loadAsync","zip","file","format","async","loadRemoteZip","containsFile","getFileContents","ziputils","contents","f","startsWith","Object","keys","sort","hasContent","loadBundle","loadLog","defaultBundle","appBar","toolbar","urlbar","order","paddingBottom","offset","mixins","minHeight","container","paddingTop","footer","App","initialValue","item","localStorage","getItem","JSON","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","useLocalStorage","useMediaQuery","setFilename","bundleutils","setBundle","setError","loading","setLoading","pallet","darkModeTheme","createMuiTheme","type","handleDarkModeToggle","newUrl","updateHistory","replace","corsRewrite","then","handleFileChange","catch","handleError","handleReset","handleUpload","handleZipChange","contentType","contenttypeutils","err","windowUrl","URL","searchParams","set","delete","history","replaceState","MainView","Alert","severity","AlertTitle","Navbar","mdUp","CssBaseline","maxWidth","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","search","params","URLSearchParams","ReactDOM","render","querySelector","process","addEventListener","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.e2142072.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DarkModeIcon from \"@material-ui/icons/Brightness4\";\nimport LightModeIcon from \"@material-ui/icons/Brightness7\";\n\nexport default function DarkModeToggle(props) {\n    const [darkMode, setDarkMode] = useState(props.darkMode);\n\n    const handleDarkModeToggle = () => {\n        props.onChange(!darkMode);\n        setDarkMode(!darkMode);\n    };\n\n    return (\n        <Tooltip title=\"Toggle dark mode\">\n            <IconButton onClick={handleDarkModeToggle} color=\"inherit\">\n                { darkMode ? <LightModeIcon /> : <DarkModeIcon /> }\n            </IconButton>\n        </Tooltip>\n    )\n}","import React, { useState } from \"react\";\n\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\n\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\n\nconst useStyles = makeStyles(theme => ({\n    grow: {\n      flexGrow: 1\n    },\n    url: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      [theme.breakpoints.up('md')]: {\n        marginRight: theme.spacing(2),\n        marginLeft: theme.spacing(2),\n      },\n      flexGrow: 1\n    },\n    urlIcon: {\n      padding: theme.spacing(0, 2),\n      height: \"100%\",\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    inputRoot: {\n      color: \"inherit\",\n      width: \"100%\"\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 1),\n      [theme.breakpoints.up('md')]: {\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      },\n      transition: theme.transitions.create('width'),\n      width: \"100%\",\n    }\n}));\n\n\nexport default function UrlBar(props) {\n    const classes = useStyles();\n\n    const [url, setUrl] = useState(props.url);\n    const [mode] = useState(props.filename ? \"upload\" : \"url\");\n\n    const handleChange = (event) => {\n        if (mode === \"url\") {\n            setUrl(event.target.value);\n        }\n    }\n\n    const handleKeyDown = (event) => {\n        if (mode === \"url\" && event.key === \"Enter\") {\n            props.handleUrlChange(url);\n        }\n    }\n\n    return (\n        <div className={classes.url}>\n            <Hidden mdDown>\n                <div className={classes.urlIcon}>\n                {props.filename ? (\n                    <UploadIcon />\n                ) : (\n                    <LinkIcon />\n                )}\n                </div>\n            </Hidden>\n            <InputBase\n                placeholder=\"URL...\"\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                onChange={handleChange}\n                onKeyDown={handleKeyDown}\n                defaultValue={(mode === \"upload\" ? props.filename : props.url)}\n                inputProps={{ readOnly: mode === \"upload\", }}\n            />\n        </div>\n    )\n}","import React, { useState } from \"react\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport ShareIcon from \"@material-ui/icons/Share\";\n\nimport { useSnackbar } from \"notistack\";\n\nexport default function ShareButton(props) {\n    const { enqueueSnackbar } = useSnackbar();\n    const [ shareModalOpen, setShareModalOpen ] = useState(false);\n    const shareUrl = window.location.origin + window.location.pathname + \"?url=\" + encodeURIComponent(props.url);\n\n    const handleShareClick = () => {\n        setShareModalOpen(true);\n    }\n\n    const handleShare = () => {\n        if (navigator.share) {\n            navigator.share({\n                title: document.title,\n                url: shareUrl\n            })\n            handleClose();\n        }\n    }\n\n    const handleCopy = () => {\n        if (navigator.clipboard) {\n            navigator.clipboard.writeText(shareUrl);\n            enqueueSnackbar(\"URL copied to clipboard!\");\n            handleClose();\n        }\n    }\n\n    const handleClose = () => {\n        setShareModalOpen(false);\n    }\n\n    if (true) {\n        return (\n            <>\n            <Tooltip title=\"Get shareable link\">\n                <IconButton onClick={handleShareClick} color=\"inherit\">\n                    <ShareIcon />\n                </IconButton>\n            </Tooltip>\n\n            <Dialog open={shareModalOpen} onClose={handleClose} fullWidth>\n                <DialogTitle>Shareable link</DialogTitle>\n                <DialogContent>\n                    <TextField value={shareUrl} InputProps={{ readOnly: true, }} onFocus={event => {event.target.select()}} fullWidth />\n                </DialogContent>\n                <DialogActions>\n                    {(navigator.share) ? \n                        <Button onClick={handleShare}>\n                            Share\n                        </Button>\n                    :\n                        (null)\n                    }\n                    {(navigator.clipboard) ? \n                        <Button onClick={handleCopy}>\n                            Copy\n                        </Button>\n                    : \n                        (null)\n                    }\n                    <Button onClick={handleClose}>\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            </>\n        )\n    } else {\n        return (null)\n    }\n}","import React, { useState } from \"react\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Link from \"@material-ui/core/Link\";\n\nimport InfoIcon from \"@material-ui/icons/Info\";\n\nexport default function InfoButton(props) {\n    const [ infoModalOpen, setInfoModalOpen ] = useState(false);\n\n    const handleInfoClick = () => {\n        setInfoModalOpen(true);\n    }\n\n    const handleClose = () => {\n        setInfoModalOpen(false);\n    }\n\n    if (true) {\n        return (\n            <>\n            <Tooltip title=\"About Bundle Viewer\">\n                <IconButton onClick={handleInfoClick} color=\"inherit\">\n                    <InfoIcon />\n                </IconButton>\n            </Tooltip>\n\n            <Dialog open={infoModalOpen} onClose={handleClose} fullWidth>\n                <DialogTitle>About Bundle Viewer</DialogTitle>\n                <DialogContent>\n                    <p>\n                        Bundle Viewer is a viewer for <Link href=\"https://octoprint.org\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">OctoPrint</Link> system info bundles and log files.\n                    </p>\n                    <p>\n                        Its source code can be found on <Link href=\"https://github.com/OctoPrint/bundleviewer.octoprint.org\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">github.com/OctoPrint/bundleviewer.octoprint.org</Link>.\n                    </p>\n                    <hr />\n                    <p>\n                        There's an accompanying web extension for Firefox and Chrome to add an \"Open in Bundle Viewer\" context menu to links in the browser on \n                        associated websites:\n                    </p>\n                    <p style={{textAlign: \"center\"}}>\n                        <Link href=\"https://addons.mozilla.org/en-GB/firefox/addon/open-in-bundle-viewer/\" target=\"_blank\" rel=\"noopener noreferrer\" color=\"inherit\" underline=\"always\"><img src=\"https://img.shields.io/amo/v/open-in-bundle-viewer?label=Firefox%20add-on&logo=firefox\" alt=\"Firefox add-on\" /></Link> <Link href=\"https://chrome.google.com/webstore/detail/open-in-bundle-viewer/pjjocccheogfceldegkfnbfmobmblhpp\" target=\"_blank\" rel=\"noopener noreferrer\" color=\"inherit\" underline=\"always\"><img src=\"https://img.shields.io/chrome-web-store/v/pjjocccheogfceldegkfnbfmobmblhpp?label=Chrome%20extension&logo=google%20chrome\" alt=\"Chrome extension\" /></Link>\n                    </p>\n                    <p>\n                        Its source code can be found on <Link href=\"https://github.com/OctoPrint/Open-in-Bundle-Viewer\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">github.com/OctoPrint/Open-in-Bundle-Viewer</Link>.\n                    </p>\n                    <p>\n                        There's also an accompanying <Link href=\"https://community.octoprint.org/t/open-in-bundle-viewer-browser-extension/30275\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">forum thread</Link>.\n                    </p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose}>\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            </>\n        )\n    } else {\n        return (null)\n    }\n}","import React, { useState } from \"react\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport BugIcon from \"@material-ui/icons/BugReport\";\n\nexport default function InfoButton(props) {\n    const [ debugModalOpen, setDebugModalOpen ] = useState(false);\n\n    const handleDebugClick = () => {\n        setDebugModalOpen(true);\n    }\n\n    const handleClose = () => {\n        setDebugModalOpen(false);\n    }\n\n    if (true) {\n        return (\n            <>\n            <Tooltip title=\"Debug Bundle Viewer\">\n                <IconButton onClick={handleDebugClick} color=\"inherit\">\n                    <BugIcon />\n                </IconButton>\n            </Tooltip>\n\n            <Dialog open={debugModalOpen} onClose={handleClose} fullWidth>\n                <DialogTitle>Debug info</DialogTitle>\n                <DialogContent>\n                    <dl>\n                        <dt>shared.text</dt>\n                        <dd>{props.shared.text}</dd>\n                        <dt>shared.url</dt>\n                        <dd>{props.shared.url}</dd>\n                        <dt>shared.title</dt>\n                        <dd>{props.shared.title}</dd>\n                        <dt>url</dt>\n                        <dd>{props.url}</dd>\n                    </dl>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose}>\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            </>\n        )\n    } else {\n        return (null)\n    }\n}","import React, { useState } from \"react\";\n\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport PrevIcon from \"@material-ui/icons/ExpandLess\";\nimport NextIcon from \"@material-ui/icons/ExpandMore\";\nimport CancelIcon from \"@material-ui/icons/Clear\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nconst useStyles = makeStyles(theme => ({\n    grow: {\n      flexGrow: 1\n    },\n    query: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      [theme.breakpoints.up('md')]: {\n        marginRight: theme.spacing(2),\n        marginLeft: theme.spacing(2),\n      },\n      flexGrow: 1,\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n    inputRoot: {\n      color: \"inherit\",\n      width: \"100%\"\n    },\n    inputInput: {\n      padding: theme.spacing(1),\n      transition: theme.transitions.create('width'),\n      width: \"100%\",\n    },\n    result: {\n      color: theme.palette.secondary,\n      fontSize: theme.typography.pxToRem(12),\n    }\n}));\n\n\nexport default function SearchBar(props) {\n    const pos = props.pos;\n    const count = props.count;\n\n    const classes = useStyles();\n\n    const [query, setQuery] = useState(props.query);\n\n    const inputRef = React.createRef();\n\n    const handleChange = (event) => {\n        setQuery(event.target.value);\n        if (props.handleQueryChange) {\n          props.handleQueryChange(query);\n        }\n    }\n\n    const handleKeyDown = (event) => {\n        if (event.key === \"Enter\") {\n          handlePerform();\n        }\n    }\n\n    const handlePerform = () => {\n      if (props.handlePerformQuery) {\n        props.handlePerformQuery(query);\n      }\n    }\n\n    const handleCancel = () => {\n      setQuery(\"\");\n      inputRef.current.value = \"\";\n      if (props.onCancel) {\n        props.onCancel();\n      }\n    }\n\n    const SearchStartAdornment = () => (\n      <InputAdornment position=\"start\">\n        <IconButton onClick={handlePerform} disabled={query === \"\"} size=\"small\"><SearchIcon /></IconButton>\n      </InputAdornment>\n    )\n\n    const SearchEndAdornment = () => (\n      <InputAdornment position=\"end\">\n        {count ? <span className={classes.result}>{pos} / {count}</span> : (null)}\n        <IconButton onClick={props.onPrev} disabled={count === 0 || pos <= 1} size=\"small\"><PrevIcon /></IconButton>\n        <IconButton onClick={props.onNext} disabled={count === 0 || pos >= count} size=\"small\"><NextIcon /></IconButton>\n        <IconButton onClick={handleCancel} disabled={query === \"\"} size=\"small\"><CancelIcon /></IconButton>\n      </InputAdornment>\n    )\n\n    return (\n        <div className={classes.query}>\n            <InputBase\n                placeholder=\"Search...\"\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                onChange={handleChange}\n                onKeyDown={handleKeyDown}\n                defaultValue={props.query}\n                startAdornment={<SearchStartAdornment />}\n                endAdornment={<SearchEndAdornment />}\n                inputRef={inputRef}\n            />\n        </div>\n    )\n}","import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { FixedSizeList } from \"react-window\";\n\nexport default function LogLines(props) {\n    const lines = props.lines;\n    const lineCount = lines.length;\n    const query = props.query;\n    const queryLower = query.toLowerCase();\n    const scrollTo = props.scrollTo;\n\n    const listRef = React.createRef();\n    useEffect(() => {\n        if (scrollTo > -1) {\n            listRef.current?.scrollToItem(scrollTo, \"center\");\n        }\n    }, [listRef, scrollTo]);\n\n    const classes = makeStyles(theme => ({\n        log: {\n            flexGrow: 1,\n        },\n        pre: {\n            margin: 0,\n            \"font-family\": \"'JetBrains Mono', 'Droid Sans Mono', monospace\",\n            [theme.breakpoints.down('md')]: {\n                fontSize: theme.typography.pxToRem(12),\n            }\n        },\n        linewrap: {\n            \"&[data-matched=\\\"true\\\"]\": {\n                \"background-color\": \"rgba(255, 255, 0, .2)\"\n            }\n        },\n        line: {\n            paddingLeft: theme.spacing(1),\n            \"&::before\": {\n                content: \"attr(data-linenumber)\",\n                display: \"inline-block\",\n                width: `${lineCount.toString().length}ch`,\n                \"text-align\": \"right\",\n                \"margin-right\": \"1em\",\n                \"color\": theme.palette.text.disabled\n            },\n            \"&[data-loglevel=\\\"DEBUG\\\"]\": {\n                \"color\": theme.palette.text.secondary\n            },\n            \"&[data-loglevel=\\\"WARNING\\\"]\": {\n                \"color\": theme.palette.warning.main\n            },\n            \"&[data-loglevel=\\\"ERROR\\\"]\": {\n                \"color\": theme.palette.error.main\n            },\n            \"&[data-stream=\\\"stdin\\\"]\": {\n                \"color\": theme.palette.info.main\n            },\n            \"&[data-stream=\\\"stderr\\\"]\": {\n                \"color\": theme.palette.error.main\n            },\n            \"&[data-updateresult=\\\"FAILED\\\"]\": {\n                \"color\": theme.palette.error.main\n            },\n        },\n    }))();\n\n    const getLoglevel = (line) => {\n        let parts = line.split(\" \");\n        return parts[5];\n    }\n\n    const getStream = (line) => {\n        const prefix = line.charAt(24);\n        switch (prefix) {\n            case \" \": return \"stdin\";\n            case \">\": return \"stdout\";\n            case \"!\": return \"stderr\";\n            default: return \"plain\";\n        }\n    }\n\n    const getUpdateResult = (line) => {\n        if (line.includes(\"- FAILED -\")) {\n            return \"FAILED\";\n        } else if (line.includes(\"- SUCCESS -\")) {\n            return \"SUCCESS\";\n        } else {\n            return \"PLAIN\";\n        }\n    }\n\n    const matchesQuery = (line) => {\n        return query && line && line.toLowerCase().includes(queryLower);\n    }\n\n    const LogLine = ({ index, style }) => (\n        <span data-matched={matchesQuery(lines[index])} style={style} className={classes.linewrap}><span data-linenumber={index + 1} data-loglevel={getLoglevel(lines[index])} className={classes.line}>{lines[index]}</span></span>\n    );\n\n    const CliLine = ({ index, style }) => (\n        <span data-matched={matchesQuery(lines[index])} style={style} className={classes.linewrap}><span data-linenumber={index + 1} data-stream={getStream(lines[index])} className={classes.line}>{lines[index]}</span></span>\n    );\n\n    const UpdatelogLine = ({ index, style }) => (\n        <span data-matched={matchesQuery(lines[index])} style={style} className={classes.linewrap}><span data-linenumber={index + 1} data-updateresult={getUpdateResult(lines[index])} className={classes.line}>{lines[index]}</span></span>\n    );\n\n    const PlainLine = ({ index, style }) => (\n        <span data-matched={matchesQuery(lines[index])} style={style} className={classes.linewrap}><span data-linenumber={index + 1} className={classes.line}>{lines[index]}</span></span>\n    );\n\n    let Line;\n    switch (props.language) {\n        case \"log\": {\n            Line = LogLine;\n            break;\n        }\n        case \"cli\": {\n            Line = CliLine;\n            break;\n        }\n        case \"updatelog\": {\n            Line = UpdatelogLine;\n            break;\n        }\n        default: {\n            Line = PlainLine;\n            break;\n        }\n    }\n\n    return (\n        <code className={classes.log}>\n            <pre className={classes.pre}>\n                <FixedSizeList \n                    height={500}\n                    itemCount={lineCount}\n                    itemSize={20}\n                    style={{overflow: \"scroll\"}}\n                    ref={listRef}\n                >\n                    {Line}\n                </FixedSizeList>\n            </pre>\n        </code>\n    )\n};","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from \"@material-ui/core/Typography\";\nimport SearchBar from \"./SearchBar\";\nimport LogLines from \"./LogLines\";\n\nimport ErrorIcon from \"mdi-react/ErrorIcon\";\nimport ThrottledIcon from \"mdi-react/SpeedometerSlowIcon\";\n\nimport millify from \"millify\";\n\nconst languages = [\n    { language: \"cli\", patterns: [/^.*_console.*\\.log$/]},\n    { language: \"updatelog\", patterns: [/^.*_update\\.log$/] },\n    { language: \"log\", patterns: [/^.*\\.log$/] },\n]\n\nconst guessLanguage = (filename) => {\n    for (const { language, patterns } of languages) {\n        for (const pattern of patterns) {\n            if (filename.match(pattern)) {\n                console.log(`Match! ${pattern} vs ${filename}`)\n                return language;\n            }\n        }\n    }\n    return \"plain\";\n}\n\nexport default function LogView(props) {\n    const log = props.log;\n    const content = props.content;\n    const lines = content.trim().split(\"\\n\").map((line) => (line.trimEnd() + \"\\n\"));\n    const lineCount = lines.length;\n\n    const [query, setQuery] = useState(\"\");\n    const [scrollTo, setScrollTo] = useState(0);\n\n    const [cursor, setCursor] = useState(0);\n    const [indices, setIndices] = useState([]);\n\n    const classes = makeStyles(theme => ({\n        background: {\n        },\n        accordionbar: {\n            display: \"flex\",\n            flexGrow: 1,\n            alignItems: \"center\",\n            [theme.breakpoints.down('md')]: {\n                flexWrap: \"wrap\",\n            },\n        },\n        accordiondetails: {\n            display: \"flex\",\n            flexGrow: 1,\n            flexDirection: \"column\"\n        },\n        grow: {\n            flexGrow: 1,\n        },\n        icon: {\n            padding: theme.spacing(0, 1),\n            fontSize: \"1.5rem\",\n        },\n        secondaryHeading: {\n            fontSize: theme.typography.pxToRem(12),\n            color: theme.palette.text.secondary,\n            padding: theme.spacing(0, 1),\n            textAlign: \"right\",\n            [theme.breakpoints.down('md')]: {\n                textAlign: \"left\",\n                padding: theme.spacing(0, 0),\n            },\n        },\n        title: {\n            flexGrow: 1,\n            alignItems: \"center\",\n            [theme.breakpoints.down('md')]: {\n                flexBasis: \"100%\"\n            }\n        },\n        info: {\n            [theme.breakpoints.down('md')]: {\n                flexBasis: \"100%\"\n            }\n        }\n    }))();\n\n    const onCancelQuery = () => {\n        setIndices([]);\n        setCursor(0);\n        setQuery(\"\");\n    }\n\n    const onPerformQuery = (q) => {\n        if (!q) return;\n\n        console.log(\"Starting query:\", q);\n        if (q !== query) {\n            console.log(\"... calculate matches\");\n            const qLower = q.toLowerCase();\n            const ind = lines.reduce((a, c, i) => {\n                if (c.toLowerCase().includes(qLower)) {\n                    a.push(i);\n                }\n                return a;\n            }, []);\n\n            if (ind.length) {\n                setScrollTo(ind[0]);\n            }\n\n            setIndices(ind);\n            setCursor(0);\n            setQuery(q);\n            console.log(\"Indices:\", ind, \", cursor:\", 0);\n        } else {\n            nextResult();\n        }\n    }\n\n    const nextResult = () => {\n        if (indices.length) {\n            const c = cursor < indices.length - 1 ? cursor + 1 : 0;\n            setScrollTo(indices[c]);\n            setCursor(c);\n        }\n    };\n    const previousResult = () => {\n        if (indices.length) {\n            const c = cursor > 0 ? (cursor - 1) : (indices.length - 1);\n            setScrollTo(indices[c]);\n            setCursor(c);\n        }\n    };\n\n    const serialAndDisabled = (log === \"serial.log\" && lineCount === 1 && lines[0].includes(\"serial.log is currently not enabled\"));\n    const throttled = content.includes(\"!!! UNDERVOLTAGE REPORTED !!!\") || content.includes(\"!!! FREQUENCY CAPPING DUE TO OVERHEATING REPORTED !!!\");\n\n    return (\n        <Accordion key={log} defaultExpanded={props.expanded}>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls={\"panel-log-\" + props.index + \"-content\"} id={\"panel-log-\" + props.index + \"-header\"}>\n                <div className={classes.accordionbar}>\n                    <div className={classes.title}>\n                        <Typography className={classes.heading} style={{ display: \"flex\", alignItems: \"center\" }}>\n                            {log}\n                            {throttled ? <ThrottledIcon className={classes.icon} size=\"1.5em\" /> : (null)}\n                            {serialAndDisabled ? <ErrorIcon className={classes.icon} size=\"1.5em\" /> : (null)}\n                        </Typography>\n                    </div>\n                    <div className={classes.info}>\n                        <Typography className={classes.secondaryHeading}>\n                            {millify(content.length) + \" \" + (content.length === 1 ? \"char\" : \"chars\")}\n                        </Typography>\n                        <Typography className={classes.secondaryHeading}>\n                            {millify(lineCount) + \" \" + (lineCount === 1 ? \"line\" : \"lines\")}\n                        </Typography>\n                    </div>\n                </div>\n            </AccordionSummary>\n            <AccordionDetails className={classes.accordiondetails}>\n                <SearchBar \n                    className={classes.grow} \n                    pos={cursor + 1} \n                    count={indices.length} \n                    onNext={nextResult} \n                    onPrev={previousResult} \n                    onCancel={onCancelQuery}\n                    handlePerformQuery={onPerformQuery} \n                />\n                <LogLines lines={lines} query={query} scrollTo={scrollTo} language={props.language || guessLanguage(log)} />\n            </AccordionDetails>\n        </Accordion>\n    )\n}","import React from \"react\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport ThrottledIcon from \"mdi-react/SpeedometerSlowIcon\";\nimport BugfixIcon from \"mdi-react/BugCheckIcon\";\nimport SafeModeIcon from \"mdi-react/LockCheckIcon\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    accordionbar: {\n        display: \"flex\",\n        flexGrow: 1,\n        alignItems: \"center\",\n        [theme.breakpoints.down('md')]: {\n            flexWrap: \"wrap\",\n        },\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    icon: {\n        padding: theme.spacing(0, 1),\n        fontSize: \"1.5rem\",\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(12),\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(0, 1),\n        textAlign: \"right\",\n        [theme.breakpoints.down('md')]: {\n            textAlign: \"left\",\n            padding: theme.spacing(0, 0),\n        },\n    },\n    title: {\n        flexGrow: 1,\n        alignItems: \"center\",\n        [theme.breakpoints.down('md')]: {\n            flexBasis: \"100%\"\n        }\n    },\n    info: {\n        [theme.breakpoints.down('md')]: {\n            flexBasis: \"100%\"\n        }\n    }\n}));\n\nexport default function SystemInfo(props) {\n    const lines = props.info.split(\"\\n\").filter(l => l.trim() !== \"\").map(l => {\n        const [key, ...value] = l.split(\":\");\n        return { key: key, value: value.join(\":\") }\n    });\n\n    const info = {};\n    for (const p of lines) {\n        info[p.key] = p.value;\n    }\n\n    const classes = useStyles();\n\n    const InfoField = (title, key) => {\n        const value = info[key];\n\n        if (value) {\n            return (\n                <Typography className={classes.secondaryHeading}>{title + \" \" + value}</Typography>\n            );\n        } else {\n            return (null);\n        }\n    }\n\n    const checkField = (key, func) => {\n        return (info[key] && func(info[key]));\n    }\n\n    const safemode = checkField(\"octoprint.safe_mode\", value => (value === \"true\"));\n    const throttled = checkField(\"env.plugins.pi_support.throttle_state\", value => (value.trim() !== \"0x0\"));\n    const marlin_bugfix = checkField(\"printer.firmware\", value => (value.includes(\"Marlin bugfix-\")));\n\n    return (\n        <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel-sysinfo-content\" id=\"panel-sysinfo-header\">\n                <div className={classes.accordionbar}>\n                    <div className={classes.title}>\n                        <Typography className={classes.heading} style={{ display: \"flex\", alignItems: \"center\" }}>\n                            System Information\n                            {safemode ? <SafeModeIcon className={classes.icon} size=\"1.5em\" /> : (null)}\n                            {throttled ? <ThrottledIcon className={classes.icon} size=\"1.5em\" /> : (null)}\n                            {marlin_bugfix ? <BugfixIcon className={classes.icon} size=\"1.5em\" /> : (null)}\n                        </Typography>\n                    </div>\n                    <div className={classes.info}>\n                        {InfoField(\"OctoPrint\", \"octoprint.version\")}\n                        {InfoField(\"Python\", \"env.python.version\")}\n                        {InfoField(\"OctoPi\", \"env.plugins.pi_support.octopi_version\")}\n                        {InfoField(\"Firmware\", \"printer.firmware\")}\n                    </div>\n                </div>\n            </AccordionSummary>\n\n            <AccordionDetails>\n                <div className={classes.list}>\n                {lines.map((line, index) => (\n                    <div key={line.key}>\n                        <strong>{line.key}</strong>: {line.value}\n                    </div>\n                ))}\n                </div>\n            </AccordionDetails>\n        </Accordion>\n    )\n}","import React from \"react\";\n\nimport LogView from \"./LogView\";\nimport SystemInfo from \"./SystemInfo\";\n\nexport default function BundleView(props) {\n    return (\n      <>\n            { props.bundle.systeminfo ? <SystemInfo info={props.bundle.systeminfo} /> : (null)}\n            {props.bundle.logs.map((log, index) => (\n                <LogView key={\"log-\" + index} expanded={ !props.bundle.systeminfo && index === 0 } log={log.log} content={log.content} index={index} />\n            ))}\n      </>\n    )\n}","import React from \"react\";\n\nimport { DropzoneArea } from \"material-ui-dropzone\";\n\nexport default function NothingLoaded(props) {\n    console.log(\"Rendering NothingChanged...\");\n\n    const handleChange = (files) => {\n        console.log(\"Entered NothingLoaded.handleChange...\");\n        if (files.length > 0) {\n            console.log(\"File:\", files[0]);\n            props.onUpload(files[0]);\n        }\n        console.log(\"Exiting NothingLoaded.handleChange...\");\n    };\n\n    return (\n        <div style={{ display: \"flex\", justifyContent: \"center\", flexDirection: \"column\" }}>\n            <DropzoneArea\n                style={{\"flex-basis\": \"100%\"}}\n                dropzoneText=\"Enter an URL above and press Enter, or drag and drop a file here or click to upload one\"\n                onChange={handleChange}\n                filesLimit={1} \n                acceptedFiles={[\".zip\", \".log\", \".txt\"]}\n                maxFileSize={30000000}\n                showPreviewsInDropzone={false}\n                showAlerts={false}\n                />\n        </div>\n    )\n}","import contentdispositionutils from \"content-disposition\";\n\nasync function loadRemote(url) {\n    const response = await fetch(url, {mode: 'cors',});\n    if (!response.ok) {\n        throw new Error(`Could not load file from ${url}: ${response.status}`);\n    }\n    const blob = await response.blob();\n\n    let filename;\n    const header = response.headers.get(\"content-disposition\");\n    if (header) {\n        filename = contentdispositionutils.parse(header).parameters?.filename || \"unknown\";\n    } else {\n        filename = url.substring(url.lastIndexOf(\"/\") + 1);\n    }\n    blob.name = filename;\n    \n    return blob;\n}\n\nconst utils = {\n    loadRemote: loadRemote\n}\nexport default utils;","import JSZip from \"jszip\";\nimport remoteutils from \"./remote\"\n\nasync function loadRemoteZip(url) {\n    const { blob } = await remoteutils.loadRemote(url);\n    return await loadZip(blob);\n}\n\nasync function loadZip(blob) {\n    return await JSZip.loadAsync(blob);\n}\n\nasync function containsFile(zip, filename) {\n    return await zip.file(filename) !== null;\n}\n\nasync function getFileContents(zip, filename, format) {\n    format = format || \"blob\";\n    return await zip.file(filename).async(format);\n}\n\nconst utils = {\n    loadZip: loadZip,\n    loadRemoteZip: loadRemoteZip,\n    containsFile: containsFile,\n    getFileContents: getFileContents\n}\n\nexport default utils;","import ziputils from \"./zip\";\n\nasync function loadBundle(zip) {\n    const files = [\"octoprint.log\", \"serial.log\", \"terminal.txt\", \"plugin_softwareupdate_console.log\", \"plugin_pluginmanager_console.log\"];\n\n    let systeminfo = false;\n    try {\n        systeminfo = await ziputils.getFileContents(zip, \"systeminfo.txt\", \"string\");\n    } catch(error) {\n        console.log(\"Could not read systeminfo.txt from zip, probably not a bundle...\");\n    }\n\n    const contents = {};\n    for (const f of zip.file(/\\.(log|txt|gcode|gco|g)$/i)) {\n        if (f.name.startsWith(\".\") || f.name.startsWith(\"__\") || f.name === \"systeminfo.txt\") continue;\n        try {\n            contents[f.name] = await f.async(\"string\");\n        } catch(error) {\n            console.log(`Could not read {f.name} from zip...`);\n        }\n    }\n\n    const logs = [];\n    for (const filename of files) {\n        if (contents[filename]) {\n            logs.push({ log: filename, content: contents[filename] });\n        }\n    }\n    for (const filename of Object.keys(contents).sort()) {\n        if (!files.includes(filename)) {\n            logs.push({ log: filename, content: contents[filename] });\n        }\n    }\n\n    return {\n        hasContent: true,\n        systeminfo: systeminfo,\n        logs: logs\n    };\n}\n\nasync function loadLog(blob) {\n    return {\n        hasContent: true,\n        logs: [\n            { log: blob.name || \"unknown\", content: await blob.text() }\n        ]\n    }\n}\n\n\nconst defaultBundle = {\n    hasContent: false,\n    systeminfo: \"\",\n    logs: []\n};\n\nconst utils = {\n    loadBundle: loadBundle,\n    loadLog: loadLog,\n    defaultBundle: defaultBundle\n}\n\nexport default utils;\n","import React, { useState, useEffect } from \"react\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Container from \"@material-ui/core/Container\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Link from \"@material-ui/core/Link\";\n\nimport { SnackbarProvider } from \"notistack\";\n\nimport DarkModeToggle from \"./components/DarkModeToggle\";\nimport UrlBar from \"./components/UrlBar\";\nimport ShareButton from \"./components/ShareButton\";\nimport InfoButton from \"./components/InfoButton\";\nimport DebugButton from \"./components/DebugButton\";\nimport BundleView from \"./components/BundleView\";\nimport NothingLoaded from \"./components/NothingLoaded\";\n\nimport useLocalStorage from \"./hooks/useLocalStorage\";\n\nimport remoteutils from \"./util/remote\";\nimport ziputils from \"./util/zip\";\nimport bundleutils from \"./util/bundle\";\nimport contenttypeutils from \"content-type\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        overflow: \"auto\"\n    },\n    grow: {\n      flexGrow: 1\n    },\n\n    appBar: {\n    },\n    toolbar: {\n      [theme.breakpoints.down('md')]: {\n        \"justify-content\": \"flex-end\",\n        \"flex-wrap\": \"wrap\",\n      }\n    },\n    urlbar: {\n      flexGrow: 1,\n      [theme.breakpoints.down('md')]: {\n        \"flex-basis\": \"100%\",\n        order: 99,\n        paddingBottom: theme.spacing(2)\n      },\n    },\n    title: {\n      \"justify-item\": \"left\",\n    },\n\n    offset: theme.mixins.toolbar,\n\n    content: {\n      flexGrow: 1,\n      overflow: \"auto\",\n      \"padding-top\": theme.mixins.toolbar.minHeight,\n      [theme.breakpoints.down('md')]: {\n        \"padding-top\": theme.mixins.toolbar.minHeight * 2,\n      }\n    },\n    container: {\n      minHeight: \"100%\", \n      display: \"flex\", \n      flexDirection: \"column\",\n      paddingTop: theme.spacing(4),\n      [theme.breakpoints.down('md')]: {\n        paddingTop: 0,\n      },\n      paddingBottom: theme.spacing(4)\n    },\n    footer: {\n      textAlign: \"center\",\n      padding: \"1em\",\n    }\n}));\n\nfunction corsRewrite(url) {\n  const githubRegex = /^https:\\/\\/github\\.com\\/[a-zA-Z0-9_-]+\\/[a-zA-Z0-9_-]+\\/files\\//\n  const forumRegex = /^https:\\/\\/community\\.octoprint\\.org\\/uploads\\/short-url\\//\n  if (url.match(githubRegex)) {\n      return url.replace(\"https://github.com\", \"https://bundleviewer.octoprint.org/bundles\");\n  } else if (url.match(forumRegex)) {\n      return url.replace(\"https://community.octoprint.org/uploads/short-url\", \"https://bundleviewer.octoprint.org/bundles/forum\");\n  }\n  return url;\n}\n\nexport default function App(props) {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const [darkMode, setDarkMode] = useLocalStorage(\"enableDarkMode\", prefersDarkMode);\n\n    const [url, setUrl] = useState(props.url);\n    const [filename, setFilename] = useState(\"\");\n  \n    const [bundle, setBundle] = useState(bundleutils.defaultBundle);\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const pallet = darkMode ? \"dark\" : \"light\";\n    const darkModeTheme = createMuiTheme({\n        palette: {\n            type: pallet\n        }\n    });\n\n    const handleDarkModeToggle = () => {\n        setDarkMode(!darkMode);\n    }\n\n    useEffect(() => {\n      handleUrlChange(props.url);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleUrlChange = (newUrl) => {\n      if (!newUrl) {\n        handleReset();\n      } else {\n        setError(false);\n        setLoading(true);\n  \n        setUrl(newUrl);\n        updateHistory(newUrl);\n        setFilename(\"\");\n  \n        const url = corsRewrite(newUrl);\n\n        remoteutils.loadRemote(url).then(handleFileChange).catch(handleError);\n      }\n    }\n\n    const handleUpload = (blob) => {\n      setError(false);\n      setLoading(true);\n\n      setFilename(blob.name);\n      setUrl(\"\");\n\n      handleFileChange(blob);\n    }\n\n    const handleFileChange = (blob) => {\n      ziputils.loadZip(blob)\n        .then(handleZipChange)\n        .catch((error) => {\n          let contentType;\n          try {\n            contentType = contenttypeutils.parse(blob.type).type;\n          } catch (err) {\n            contentType = \"\";\n          }\n\n          if (contentType === \"\" || contentType.startsWith(\"text/\")) {\n            bundleutils.loadLog(blob).then((bundle) => {\n              setBundle(bundle);\n              setLoading(false);\n            }).catch(handleError);\n          } else {\n            handleError(error);\n          }\n        })\n    }\n\n    const handleZipChange = (zip) => {\n      bundleutils.loadBundle(zip).then((bundle) => {\n        setBundle(bundle);\n        setLoading(false);\n        console.log(\"Loading complete\");\n      }).catch(handleError);\n    }\n\n    const handleError = (error) => {\n      console.log(error);\n      setError(true);\n    }\n\n    const handleReset = () => {\n      setUrl(\"\");\n      setFilename(\"\");\n      setError(false);\n      setLoading(false);\n      setBundle(bundleutils.defaultBundle);\n      updateHistory();\n    }\n\n    const updateHistory = (newUrl) => {\n      const windowUrl = new URL(window.location);\n      if (newUrl) {\n        windowUrl.searchParams.set(\"url\", newUrl);\n      } else {\n        windowUrl.searchParams.delete(\"url\");\n      }\n      window.history.replaceState({}, '', windowUrl);\n    }\n\n    const classes = useStyles();\n\n    const MainView = () => {\n      if (error) {\n        console.log(\"Rendering error screen\");\n        return (\n          <Alert severity=\"error\">\n              <AlertTitle>Error</AlertTitle>\n              Could not load file. Make sure you are trying to load either an OctoPrint \n              systeminfo bundle, a zip containing logs, or a plain text log file. \n              Other files are not supported.\n          </Alert>\n        )\n      } else if (loading) {\n        console.log(\"Rendering loading screen\");\n        return (\n          <div style={{ display: \"flex\", justifyContent: \"center\", }}>\n              <CircularProgress />\n          </div>\n        )\n      } else if (bundle.hasContent) {\n        console.log(\"Rendering bundle\");\n        return (\n          <BundleView bundle={bundle} />\n        )\n      } else {\n        console.log(\"Rendering empty\");\n        return (\n          <NothingLoaded onUpload={handleUpload} />\n        )\n      }\n    }\n\n    const Navbar = () => {\n      return (\n        <AppBar className={classes.appBar}>\n          <Toolbar className={classes.toolbar}>\n              <IconButton onClick={handleReset} color=\"inherit\">\n                <HomeIcon />\n              </IconButton>\n              <Hidden mdUp>\n                <div className={classes.grow} />\n              </Hidden>\n              <div className={classes.urlbar}>\n                <UrlBar url={url} filename={filename} handleUrlChange={handleUrlChange} />\n              </div>\n              {url ? <ShareButton url={url} /> : null}\n              <InfoButton />\n              <DebugButton url={url} shared={props.shared} />\n              <DarkModeToggle darkMode={darkMode} onChange={handleDarkModeToggle} />\n          </Toolbar>\n        </AppBar>\n      )\n    }\n\n    return (\n        <ThemeProvider theme={darkModeTheme}>\n          <SnackbarProvider>\n            <div className={classes.root} style={{display: \"flex\", minHeight: \"100vh\", flexDirection: \"column\"}}>\n                <CssBaseline />\n                <Navbar />\n                <main className={classes.content}>\n                    <Container maxWidth=\"lg\" className={classes.container}>\n                      <MainView />\n                    </Container>\n                </main>\n                <footer className={classes.footer}>\n                  © 2021 <Link href=\"https://octoprint.org\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">OctoPrint</Link> &middot; <Link href=\"https://octoprint.org/imprint/\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">Imprint</Link> &middot; <Link href=\"https://octoprint.org/privacy/\" target=\"_blank\" rel=\"noreferrer noopener\" color=\"inherit\" underline=\"always\">Privacy Policy</Link>\n                </footer>\n            </div>\n          </SnackbarProvider>\n        </ThemeProvider>\n    )\n}\n","import { useState } from \"react\";\n\nexport default function useLocalStorage(key, initialValue) {\n  // Source: https://usehooks.com/useLocalStorage/\n\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that\n  // persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n\n      // Save state\n      setStoredValue(valueToStore);\n\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.0/8 are considered localhost for IPv4.\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n  );\n  \n  export function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n      // The URL constructor is available in all browsers that support SW.\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n      if (publicUrl.origin !== window.location.origin) {\n        // Our service worker won't work if PUBLIC_URL is on a different origin\n        // from what our page is served on. This might happen if a CDN is used to\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n        return;\n      }\n  \n      window.addEventListener('load', () => {\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n  \n        if (isLocalhost) {\n          // This is running on localhost. Let's check if a service worker still exists or not.\n          checkValidServiceWorker(swUrl, config);\n  \n          // Add some additional logging to localhost, pointing developers to the\n          // service worker/PWA documentation.\n          navigator.serviceWorker.ready.then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://cra.link/PWA'\n            );\n          });\n        } else {\n          // Is not localhost. Just register service worker\n          registerValidSW(swUrl, config);\n        }\n      });\n    }\n  }\n  \n  function registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n      .register(swUrl)\n      .then((registration) => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                  'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://cra.link/PWA.'\n                );\n  \n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n  \n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch((error) => {\n        console.error('Error during service worker registration:', error);\n      });\n  }\n  \n  function checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n      headers: { 'Service-Worker': 'script' },\n    })\n      .then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if (\n          response.status === 404 ||\n          (contentType != null && contentType.indexOf('javascript') === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log('No internet connection found. App is running in offline mode.');\n      });\n  }\n  \n  export function unregister() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready\n        .then((registration) => {\n          registration.unregister();\n        })\n        .catch((error) => {\n          console.error(error.message);\n        });\n    }\n  }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nconst search = window.location.search;\nconst params = new URLSearchParams(search);\n\nconst shared = {\n  url: params.get('url', ''),\n  text: params.get('text', ''),\n  title: params.get('title', '')\n}\n\nlet url = '';\nif (shared.url) {\n  url = shared.url;\n} else if (shared.text) {\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=789379\n  const match = shared.text.match(/https?:\\/\\/[^\\s]+/gi)\n  if (match) {\n    url = match[0];\n  }\n}\n\nconsole.log(\"URL\", url);\n\nReactDOM.render(\n  <App url={url} shared={shared} />,\n  document.querySelector('#root'),\n);\n\nserviceWorkerRegistration.register();"],"sourceRoot":""}