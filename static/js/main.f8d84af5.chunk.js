(this["webpackJsonpbundleviewer.octoprint.org"]=this["webpackJsonpbundleviewer.octoprint.org"]||[]).push([[0],{184:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),c=t.n(o),i=t(14),s=t(13),l=t(231),u=t(228),d=t(126),p=t(243),j=t(244),b=t(241),f=t(242),h=t(245),g=t(186),x=t(249),m=t(125),O=t.n(m),v=t(124),w=t.n(v),y=t(247),k=t(239),C=t(240),N=t(83),S=t(251),R=t(103),I=t.n(R),z=t(102),L=t.n(z),B=t(4);function E(e){var n=Object(a.useState)(e.darkMode),t=Object(i.a)(n,2),r=t[0],o=t[1];return Object(B.jsx)(S.a,{title:"Toggle dark mode",children:Object(B.jsx)(g.a,{onClick:function(){e.onChange(!r),o(!r)},color:"inherit",children:r?Object(B.jsx)(L.a,{}):Object(B.jsx)(I.a,{})})})}var G=t(11),P=t(252),U=t(104),A=t.n(U),T=t(80),W=t.n(T),_=Object(u.a)((function(e){var n,t;return{grow:{flexGrow:1},url:(n={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.c)(e.palette.common.white,.25)}},Object(s.a)(n,e.breakpoints.up("md"),{marginRight:e.spacing(2),marginLeft:e.spacing(2)}),Object(s.a)(n,"flexGrow",1),n),urlIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:(t={padding:e.spacing(1,1,1,1)},Object(s.a)(t,e.breakpoints.up("md"),{paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)")}),Object(s.a)(t,"transition",e.transitions.create("width")),Object(s.a)(t,"width","100%"),t)}}));function F(e){var n=_(),t=Object(a.useState)(e.url),r=Object(i.a)(t,2),o=r[0],c=r[1],s=Object(a.useState)(e.filename?"upload":"url"),l=Object(i.a)(s,1)[0];return Object(B.jsxs)("div",{className:n.url,children:[Object(B.jsx)(x.a,{mdDown:!0,children:Object(B.jsx)("div",{className:n.urlIcon,children:e.filename?Object(B.jsx)(W.a,{}):Object(B.jsx)(A.a,{})})}),Object(B.jsx)(P.a,{placeholder:"URL...",classes:{root:n.inputRoot,input:n.inputInput},onChange:function(e){"url"===l&&c(e.target.value)},onKeyDown:function(n){"url"===l&&"Enter"===n.key&&e.handleUrlChange(o)},defaultValue:"upload"===l?e.filename:e.url,inputProps:{readOnly:"upload"===l}})]})}var D=t(235),q=t(246),M=t(250),H=t(234),J=t(233),Q=t(232),Z=t(105),$=t.n(Z);function K(e){var n=Object(N.b)().enqueueSnackbar,t=Object(a.useState)(!1),r=Object(i.a)(t,2),o=r[0],c=r[1],s=window.location.origin+window.location.pathname+"?url="+encodeURIComponent(e.url),l=function(){c(!1)};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(S.a,{title:"Get shareable link",children:Object(B.jsx)(g.a,{onClick:function(){c(!0)},color:"inherit",children:Object(B.jsx)($.a,{})})}),Object(B.jsxs)(M.a,{open:o,onClose:l,fullWidth:!0,children:[Object(B.jsx)(Q.a,{children:"Shareable link"}),Object(B.jsx)(J.a,{children:Object(B.jsx)(q.a,{value:s,InputProps:{readOnly:!0},onFocus:function(e){e.target.select()},fullWidth:!0})}),Object(B.jsxs)(H.a,{children:[navigator.share?Object(B.jsx)(D.a,{onClick:function(){navigator.share&&(navigator.share({title:document.title,url:s}),l())},children:"Share"}):null,navigator.clipboard?Object(B.jsx)(D.a,{onClick:function(){navigator.clipboard&&(navigator.clipboard.writeText(s),n("URL copied to clipboard!"),l())},children:"Copy"}):null,Object(B.jsx)(D.a,{onClick:l,children:"Close"})]})]})]})}var V=t(60),X=t(253),Y=t(237),ee=t(238),ne=t(53),te=t.n(ne),ae=t(91),re=t(106),oe=t.n(re),ce=t(107),ie=t.n(ce),se=t(108),le=t.n(se),ue=t(236),de=Object(u.a)((function(e){var n;return{grow:{flexGrow:1},query:(n={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.c)(e.palette.common.white,.25)}},Object(s.a)(n,e.breakpoints.up("md"),{marginRight:e.spacing(2),marginLeft:e.spacing(2)}),Object(s.a)(n,"flexGrow",1),Object(s.a)(n,"marginTop",e.spacing(2)),Object(s.a)(n,"marginBottom",e.spacing(2)),n),inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1),transition:e.transitions.create("width"),width:"100%"},result:{color:e.palette.secondary,fontSize:e.typography.pxToRem(12)}}}));function pe(e){var n=e.pos,t=e.count,o=de(),c=Object(a.useState)(e.query),s=Object(i.a)(c,2),l=s[0],u=s[1],d=r.a.createRef(),p=function(){e.handlePerformQuery&&e.handlePerformQuery(l)},j=function(){u(""),d.current.value="",e.onCancel&&e.onCancel()},b=function(){return Object(B.jsx)(ue.a,{position:"start",children:Object(B.jsx)(g.a,{onClick:p,disabled:""===l,size:"small",children:Object(B.jsx)(oe.a,{})})})},f=function(){return Object(B.jsxs)(ue.a,{position:"end",children:[t?Object(B.jsxs)("span",{className:o.result,children:[n," / ",t]}):null,Object(B.jsx)(g.a,{onClick:e.onPrev,disabled:0===t||n<=1,size:"small",children:Object(B.jsx)(ie.a,{})}),Object(B.jsx)(g.a,{onClick:e.onNext,disabled:0===t||n>=t,size:"small",children:Object(B.jsx)(te.a,{})}),Object(B.jsx)(g.a,{onClick:j,disabled:""===l,size:"small",children:Object(B.jsx)(le.a,{})})]})};return Object(B.jsx)("div",{className:o.query,children:Object(B.jsx)(P.a,{placeholder:"Search...",classes:{root:o.inputRoot,input:o.inputInput},onChange:function(n){u(n.target.value),e.handleQueryChange&&e.handleQueryChange(l)},onKeyDown:function(e){"Enter"===e.key&&p()},defaultValue:e.query,startAdornment:Object(B.jsx)(b,{}),endAdornment:Object(B.jsx)(f,{}),inputRef:d})})}var je=t(129);function be(e){var n=e.lines,t=n.length,o=e.query,c=o.toLowerCase(),i=e.scrollTo,l=r.a.createRef();Object(a.useEffect)((function(){i>-1&&l.current.scrollToItem(i,"center")}),[l,i]);var d,p=Object(u.a)((function(e){return{log:{flexGrow:1},pre:Object(s.a)({margin:0,"font-family":"'JetBrains Mono', 'Droid Sans Mono', monospace"},e.breakpoints.down("md"),{fontSize:e.typography.pxToRem(12)}),linewrap:{'&[data-matched="true"]':{"background-color":"rgba(255, 255, 0, .2)"}},line:{paddingLeft:e.spacing(1),"&::before":{content:"attr(data-linenumber)",display:"inline-block",width:"".concat(t.toString().length,"ch"),"text-align":"right","margin-right":"1em",color:e.palette.text.disabled},'&[data-loglevel="DEBUG"]':{color:e.palette.text.secondary},'&[data-loglevel="WARNING"]':{color:e.palette.warning.main},'&[data-loglevel="ERROR"]':{color:e.palette.error.main},'&[data-stream="stdin"]':{color:e.palette.info.main},'&[data-stream="stderr"]':{color:e.palette.error.main}}}}))(),j=function(e){switch(e.charAt(24)){case" ":return"stdin";case">":return"stdout";case"!":return"stderr";default:return"plain"}},b=function(e){return o&&e&&e.toLowerCase().includes(c)};switch(e.language){case"log":d=function(e){var t,a=e.index,r=e.style;return Object(B.jsx)("span",{"data-matched":b(n[a]),style:r,className:p.linewrap,children:Object(B.jsx)("span",{"data-linenumber":a+1,"data-loglevel":(t=n[a],t.split(" ")[5]),className:p.line,children:n[a]})})};break;case"cli":d=function(e){var t=e.index,a=e.style;return Object(B.jsx)("span",{"data-matched":b(n[t]),style:a,className:p.linewrap,children:Object(B.jsx)("span",{"data-linenumber":t+1,"data-stream":j(n[t]),className:p.line,children:n[t]})})};break;default:d=function(e){var t=e.index,a=e.style;return Object(B.jsx)("span",{"data-matched":b(n[t]),style:a,className:p.linewrap,children:Object(B.jsx)("span",{"data-linenumber":t+1,className:p.line,children:n[t]})})}}return Object(B.jsx)("code",{className:p.log,children:Object(B.jsx)("pre",{className:p.pre,children:Object(B.jsx)(je.a,{height:500,itemCount:t,itemSize:20,style:{overflow:"scroll"},ref:l,children:d})})})}var fe=t(109),he=t.n(fe),ge=t(88),xe=t.n(ge),me=[{language:"cli",patterns:[/^.*_console.*\.log$/]},{language:"log",patterns:[/^.*\.log$/]}],Oe=function(e){var n,t=Object(V.a)(me);try{for(t.s();!(n=t.n()).done;){var a,r=n.value,o=r.language,c=r.patterns,i=Object(V.a)(c);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(e.match(s))return console.log("Match! ".concat(s," vs ").concat(e)),o}}catch(l){i.e(l)}finally{i.f()}}}catch(l){t.e(l)}finally{t.f()}return"plain"};function ve(e){var n=e.log,t=e.content,r=t.trim().split("\n"),o=r.length,c=Object(a.useState)(""),l=Object(i.a)(c,2),d=l[0],p=l[1],j=Object(a.useState)(0),b=Object(i.a)(j,2),f=b[0],h=b[1],g=Object(a.useState)(0),x=Object(i.a)(g,2),m=x[0],O=x[1],v=Object(a.useState)([]),w=Object(i.a)(v,2),y=w[0],k=w[1],C=Object(u.a)((function(e){return{background:{},accordionbar:Object(s.a)({display:"flex",flexGrow:1,alignItems:"center"},e.breakpoints.down("md"),{flexWrap:"wrap"}),accordiondetails:{display:"flex",flexGrow:1,flexDirection:"column"},grow:{flexGrow:1},icon:{padding:e.spacing(0,1),fontSize:"1.5rem"},secondaryHeading:Object(s.a)({fontSize:e.typography.pxToRem(12),color:e.palette.text.secondary,padding:e.spacing(0,1),textAlign:"right"},e.breakpoints.down("md"),{textAlign:"left",padding:e.spacing(0,0)}),title:Object(s.a)({flexGrow:1,alignItems:"center"},e.breakpoints.down("md"),{flexBasis:"100%"}),info:Object(s.a)({},e.breakpoints.down("md"),{flexBasis:"100%"})}}))(),N=function(){if(y.length){var e=m<y.length-1?m+1:0;h(y[e]),O(e)}},S="serial.log"===n&&1===o&&r[0].includes("serial.log is currently not enabled");return Object(B.jsxs)(X.a,{defaultExpanded:e.expanded,children:[Object(B.jsx)(Y.a,{expandIcon:Object(B.jsx)(te.a,{}),"aria-controls":"panel-log-"+e.index+"-content",id:"panel-log-"+e.index+"-header",children:Object(B.jsxs)("div",{className:C.accordionbar,children:[Object(B.jsx)("div",{className:C.title,children:Object(B.jsxs)(ae.a,{className:C.heading,style:{display:"flex",alignItems:"center"},children:[n,S?Object(B.jsx)(he.a,{className:C.icon,size:"1.5em"}):null]})}),Object(B.jsxs)("div",{className:C.info,children:[Object(B.jsx)(ae.a,{className:C.secondaryHeading,children:xe()(t.length)+" "+(1===t.length?"char":"chars")}),Object(B.jsx)(ae.a,{className:C.secondaryHeading,children:xe()(o)+" "+(1===o?"line":"lines")})]})]})}),Object(B.jsxs)(ee.a,{className:C.accordiondetails,children:[Object(B.jsx)(pe,{className:C.grow,pos:m+1,count:y.length,onNext:N,onPrev:function(){if(y.length){var e=m>0?m-1:y.length-1;h(y[e]),O(e)}},onCancel:function(){k([]),O(0),p("")},handlePerformQuery:function(e){if(e)if(console.log("Starting query:",e),e!==d){console.log("... calculate matches");var n=e.toLowerCase(),t=r.reduce((function(e,t,a){return t.toLowerCase().includes(n)&&e.push(a),e}),[]);t.length&&h(t[0]),k(t),O(0),p(e),console.log("Indices:",t,", cursor:",0)}else N()}}),Object(B.jsx)(be,{lines:r,query:d,scrollTo:f,language:e.language||Oe(n)})]})]},n)}var we=t(128),ye=t(110),ke=t.n(ye),Ce=t(111),Ne=t.n(Ce),Se=t(112),Re=t.n(Se),Ie=Object(u.a)((function(e){return{accordionbar:Object(s.a)({display:"flex",flexGrow:1,alignItems:"center"},e.breakpoints.down("md"),{flexWrap:"wrap"}),grow:{flexGrow:1},icon:{padding:e.spacing(0,1),fontSize:"1.5rem"},secondaryHeading:Object(s.a)({fontSize:e.typography.pxToRem(12),color:e.palette.text.secondary,padding:e.spacing(0,1),textAlign:"right"},e.breakpoints.down("md"),{textAlign:"left",padding:e.spacing(0,0)}),title:Object(s.a)({flexGrow:1,alignItems:"center"},e.breakpoints.down("md"),{flexBasis:"100%"}),info:Object(s.a)({},e.breakpoints.down("md"),{flexBasis:"100%"})}}));function ze(e){var n,t=e.info.split("\n").filter((function(e){return""!==e.trim()})).map((function(e){var n=e.split(":"),t=Object(we.a)(n);return{key:t[0],value:t.slice(1)}})),a={},r=Object(V.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;a[o.key]=o.value}}catch(p){r.e(p)}finally{r.f()}var c=Ie(),i=function(e,n){var t=a[n];return t?Object(B.jsx)(ae.a,{className:c.secondaryHeading,children:e+" "+t}):null},s=function(e,n){return a[e]&&n(a[e])},l=s("octoprint.safe_mode",(function(e){return"true"===e})),u=s("env.plugins.pi_support.throttle_state",(function(e){return"0x0"!==e})),d=s("printer.firmware",(function(e){return e.includes("Marlin bugfix-")}));return Object(B.jsxs)(X.a,{defaultExpanded:!0,children:[Object(B.jsx)(Y.a,{expandIcon:Object(B.jsx)(te.a,{}),"aria-controls":"panel-sysinfo-content",id:"panel-sysinfo-header",children:Object(B.jsxs)("div",{className:c.accordionbar,children:[Object(B.jsx)("div",{className:c.title,children:Object(B.jsxs)(ae.a,{className:c.heading,style:{display:"flex",alignItems:"center"},children:["System Information",l?Object(B.jsx)(Re.a,{className:c.icon,size:"1.5em"}):null,u?Object(B.jsx)(ke.a,{className:c.icon,size:"1.5em"}):null,d?Object(B.jsx)(Ne.a,{className:c.icon,size:"1.5em"}):null]})}),Object(B.jsxs)("div",{className:c.info,children:[i("OctoPrint","octoprint.version"),i("Python","env.python.version"),i("OctoPi","env.plugins.pi_support.octopi_version"),i("Firmware","printer.firmware")]})]})}),Object(B.jsx)(ee.a,{children:Object(B.jsx)("div",{className:c.list,children:t.map((function(e,n){return Object(B.jsxs)("div",{children:[Object(B.jsx)("strong",{children:e.key}),": ",e.value]},e.key)}))})})]})}function Le(e){return Object(B.jsxs)("div",{children:[e.bundle.systeminfo?Object(B.jsx)(ze,{info:e.bundle.systeminfo}):null,Object(B.jsx)("div",{children:e.bundle.logs.map((function(n,t){return Object(B.jsx)(ve,{expanded:!e.bundle.systeminfo&&0===t,log:n.log,content:n.content,index:t})}))})]})}var Be=t(127);function Ee(e){console.log("Rendering NothingChanged...");return Object(B.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(B.jsx)(Be.a,{style:{"flex-basis":"100%"},dropzoneText:"Enter an URL for a bundle above and press Enter, or drag and drop a file here or click to upload one",onChange:function(n){console.log("Entered NothingLoaded.handleChange..."),n.length>0&&(console.log("File:",n[0]),e.onUpload(n[0])),console.log("Exiting NothingLoaded.handleChange...")},filesLimit:1,acceptedFiles:[".zip",".log",".txt"],maxFileSize:3e7,showPreviewsInDropzone:!1,showAlerts:!1})})}var Ge=t(21),Pe=t.n(Ge),Ue=t(36),Ae=t(121),Te=t.n(Ae);function We(){return(We=Object(Ue.a)(Pe.a.mark((function e(n){var t,a,r,o,c;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{mode:"cors"});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not load file from ".concat(n,": ").concat(t.status));case 5:return e.next=7,t.blob();case 7:return a=e.sent,o=t.headers.get("content-disposition"),r=o?(null===(c=Te.a.parse(o).parameters)||void 0===c?void 0:c.filename)||"unknown":n.substring(n.lastIndexOf("/")+1),a.name=r,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e={loadRemote:function(e){return We.apply(this,arguments)}},Fe=t(122),De=t.n(Fe);function qe(){return(qe=Object(Ue.a)(Pe.a.mark((function e(n){var t,a;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.loadRemote(n);case 2:return t=e.sent,a=t.blob,e.next=6,Me(a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return He.apply(this,arguments)}function He(){return(He=Object(Ue.a)(Pe.a.mark((function e(n){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.a.loadAsync(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(Ue.a)(Pe.a.mark((function e(n,t){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.file(t);case 2:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(Ue.a)(Pe.a.mark((function e(n,t,a){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||"blob",e.next=3,n.file(t).async(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze={loadZip:Me,loadRemoteZip:function(e){return qe.apply(this,arguments)},containsFile:function(e,n){return Je.apply(this,arguments)},getFileContents:function(e,n,t){return Qe.apply(this,arguments)}};function $e(){return($e=Object(Ue.a)(Pe.a.mark((function e(n){var t,a,r,o,c,i,s,l,u,d;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["octoprint.log","serial.log","terminal.txt","plugin_softwareupdate_console.log","plugin_pluginmanager_console.log"],e.next=3,Ze.getFileContents(n,"systeminfo.txt","string");case 3:if(a=e.sent){e.next=6;break}throw new Error("No systeminfo.txt found");case 6:r={},o=0,c=t;case 8:if(!(o<c.length)){e.next=22;break}return i=c[o],e.prev=10,e.next=13,Ze.getFileContents(n,i,"string");case 13:r[i]=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log("No ".concat(i," in zip..."));case 19:o++,e.next=8;break;case 22:for(s=[],l=0,u=t;l<u.length;l++)d=u[l],r[d]&&s.push({log:d,content:r[d]});return e.abrupt("return",{hasContent:!0,systeminfo:a,logs:s});case 25:case"end":return e.stop()}}),e,null,[[10,16]])})))).apply(this,arguments)}function Ke(){return(Ke=Object(Ue.a)(Pe.a.mark((function e(n){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.name||"unknown",e.next=3,n.text();case 3:return e.t1=e.sent,e.t2={log:e.t0,content:e.t1},e.t3=[e.t2],e.abrupt("return",{hasContent:!0,logs:e.t3});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve={loadBundle:function(e){return $e.apply(this,arguments)},loadLog:function(e){return Ke.apply(this,arguments)},defaultBundle:{hasContent:!1,systeminfo:"",logs:[]}},Xe=t(123),Ye=t.n(Xe),en=Object(u.a)((function(e){var n;return{root:{display:"flex",overflow:"auto"},grow:{flexGrow:1},appBar:{},toolbar:Object(s.a)({},e.breakpoints.down("md"),{"justify-content":"flex-end","flex-wrap":"wrap"}),urlbar:Object(s.a)({flexGrow:1},e.breakpoints.down("md"),{"flex-basis":"100%",order:99,paddingBottom:e.spacing(2)}),title:{"justify-item":"left"},offset:e.mixins.toolbar,content:Object(s.a)({flexGrow:1,overflow:"auto","padding-top":e.mixins.toolbar.minHeight},e.breakpoints.down("md"),{"padding-top":2*e.mixins.toolbar.minHeight}),container:(n={paddingTop:e.spacing(4)},Object(s.a)(n,e.breakpoints.down("md"),{paddingTop:0}),Object(s.a)(n,"paddingBottom",e.spacing(4)),n)}}));function nn(e){var n=function(e,n){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(T){return console.log(T),n}})),r=Object(i.a)(t,2),o=r[0],c=r[1];return[o,function(n){try{var t=n instanceof Function?n(o):n;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(T){console.log(T)}}]}("enableDarkMode",Object(l.a)("(prefers-color-scheme: dark)")),t=Object(i.a)(n,2),r=t[0],o=t[1],c=Object(a.useState)(e.url),s=Object(i.a)(c,2),u=s[0],m=s[1],v=Object(a.useState)(""),S=Object(i.a)(v,2),R=S[0],I=S[1],z=Object(a.useState)(Ve.defaultBundle),L=Object(i.a)(z,2),G=L[0],P=L[1],U=Object(a.useState)(!1),A=Object(i.a)(U,2),T=A[0],W=A[1],_=Object(a.useState)(!1),D=Object(i.a)(_,2),q=D[0],M=D[1],H=r?"dark":"light",J=Object(d.a)({palette:{type:H}}),Q=function(){o(!r)};Object(a.useEffect)((function(){Z(e.url)}),[]);var Z=function(e){if(e){W(!1),M(!0),m(e),ne(e),I("");var n=function(e){return e.match(/^https:\/\/github\.com\/[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+\/files\//)?e.replace("https://github.com","https://bundleviewer.octoprint.org/bundles"):e.match(/^https:\/\/community\.octoprint\.org\/uploads\/short-url\//)?e.replace("https://community.octoprint.org/uploads/short-url","https://bundleviewer.octoprint.org/bundles/forum"):e}(e);_e.loadRemote(n).then(V).catch(Y)}else ee()},$=function(e){W(!1),M(!0),I(e.name),m(""),V(e)},V=function(e){Ze.loadZip(e).then(X).catch((function(n){var t;try{t=Ye.a.parse(e.type).type}catch(a){t=""}""===t||t.startsWith("text/")?Ve.loadLog(e).then((function(e){P(e),M(!1)})).catch(Y):Y(n)}))},X=function(e){Ve.loadBundle(e).then((function(e){P(e),M(!1),console.log("Loading complete")})).catch(Y)},Y=function(e){console.log(e),W(!0)},ee=function(){m(""),I(""),W(!1),M(!1),P(Ve.defaultBundle),ne()},ne=function(e){var n=new URL(window.location);e?n.searchParams.set("url",e):n.searchParams.delete("url"),window.history.replaceState({},"",n)},te=en(),ae=function(){return T?(console.log("Rendering error screen"),Object(B.jsxs)(y.a,{severity:"error",children:[Object(B.jsx)(k.a,{children:"Error"}),"Could not load bundle or single log. Make sure you are trying to load either an OctoPrint Systeminfo Bundle (zip) or a single plain text log file. Other files are not supported."]})):q?(console.log("Rendering loading screen"),Object(B.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(B.jsx)(C.a,{})})):G.hasContent?(console.log("Rendering bundle"),Object(B.jsx)(Le,{bundle:G})):(console.log("Rendering empty"),Object(B.jsx)(Ee,{onUpload:$}))},re=function(){return Object(B.jsx)(b.a,{className:te.appBar,children:Object(B.jsxs)(f.a,{className:te.toolbar,children:[Object(B.jsx)(g.a,{onClick:ee,color:"inherit",children:Object(B.jsx)(w.a,{})}),Object(B.jsx)(x.a,{mdUp:!0,children:Object(B.jsx)("div",{className:te.grow})}),Object(B.jsx)("div",{className:te.urlbar,children:Object(B.jsx)(F,{url:u,filename:R,handleUrlChange:Z})}),u?Object(B.jsx)(K,{url:u}):null,Object(B.jsx)(E,{darkMode:r,onChange:Q}),Object(B.jsx)(x.a,{xsDown:!0,children:Object(B.jsx)(g.a,{href:"https://github.com/OctoPrint/bundleviewer.octoprint.org",target:"_blank",color:"inherit",children:Object(B.jsx)(O.a,{})})})]})})};return Object(B.jsx)(p.a,{theme:J,children:Object(B.jsx)(N.a,{children:Object(B.jsxs)("div",{className:te.root,style:{display:"flex"},children:[Object(B.jsx)(j.a,{}),Object(B.jsx)(re,{}),Object(B.jsx)("main",{className:te.content,children:Object(B.jsx)(h.a,{maxWidth:"lg",className:te.container,children:Object(B.jsx)(ae,{})})})]})})})}var tn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function an(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rn=window.location.search,on=new URLSearchParams(rn).get("url","");console.log("URL",on),c.a.render(Object(B.jsx)(nn,{url:null==on?"":on}),document.querySelector("#root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");tn?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):an(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):an(n,e)}))}}()}},[[184,1,2]]]);
//# sourceMappingURL=main.f8d84af5.chunk.js.map